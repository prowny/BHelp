@using System.Collections
@model BHelp.ViewModels.DriverScheduleViewModel
@{ Layout = null; }
<!DOCTYPE html>

<html>

<head>
    <meta name="viewport" content="width=device-width"/>
    <title>Index</title>
    <style >
        #schedule { border-collapse: collapse; border: thin solid black}
        .top {width: 175px;border-right: thin solid black; }
        #SaveButton {background-color: blue;color: white}
    </style>
    <link rel="icon" href="~/images/bhlogo.ico" type="image/x-icon"/>
</head>
<body>
    @using (Html.BeginForm("Edit", "DriverSchedule", FormMethod.Post))
    {
        @Html.AntiForgeryToken()
        <div>
            <table>
                <tr>
                    <td><b>Bethesda Help Drivers Schedule - @Model.MonthName&nbsp;@Model.Year</b></td>
                    <td>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        @Html.ActionLink(" Previous Month", "PreviousMonth", new { month = Model.Month, year = Model.Year })
                    </td>
                    <td>&nbsp;&nbsp;@Html.ActionLink(" Next Month", "NextMonth", new { month = Model.Month, year = Model.Year })</td>
                    <td>&nbsp;&nbsp;&nbsp;&nbsp;@Html.ActionLink("Return to Dashboard", "Index", "Home")</td>
                </tr>
            </table>
        </div>
        <div>
            <table Id="schedule">
                <tr>
                    <th class="top">MONDAY</th>
                    <th class="top">TUESDAY</th>
                    <th class="top">WEDNESDAY</th>
                    <th class="top">THURSDAY</th>
                    <th class="top">FRIDAY</th>
                </tr>
                @for (var i = 1; i < 6; i++)
                {
                    <tr>
                        @for (var j = 1; j < 6; j++)
                        {
                            <td style="border: thin solid black">
                                @if (Model.BoxDay[i, j] != DateTime.MinValue)
                                {
                                    var idx = j + 5 * (i - 1);
                                    <b>@Html.Label(Model.BoxDay[i, j].Day.ToString("0"))</b>
                                    <span style="font-size: x-small">&nbsp;@Html.Label("Driver")</span>
                                    @Html.DropDownListFor(m =>
                                        m.BoxIndexDriverId[idx],
                                        new SelectList((IEnumerable)Model.BoxDDL[i, j, 1],
                                            "Value", "Text"),
                                         new { @class = "form-control" })
                                    @Html.ValidationMessageFor(m => m.BoxIndexDriverId[idx], "", new { @class = "text-danger" })

                                    <span style="font-size: x-small">
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        @Html.Label("BackupDriver")
                                    </span>
                                    @Html.DropDownListFor(m =>
                                        m.BoxIndexDriverId[idx * 2],
                                        new SelectList((IEnumerable)Model.BoxDDL[i, j, 2],
                                            "Value", "Text"))

                                    <span style="font-size: x-small">
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        @Html.Label("Notes")
                                    </span>
                                    @Html.TextAreaFor(t => t.BoxNote[idx])
                                }
                            </td>
                        }
                    </tr>
                }
            </table>
        </div>
        <br />
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Save" class="btn btn-default" id="SaveButton" />
            </div>
        </div>
    }
    <br />
    <div>
        @Html.ActionLink("Return to Dashboard", "Index", "Home", new { }, null)
    </div>
</body>
</html>
